<nav class="bg-gray-800">
  <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
    <div class="border-b border-gray-700">
      <div class="flex items-center justify-between h-16 px-4 sm:px-0">
        <div class="flex items-center">
          <div class="flex-shrink-0">
            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="48" height="48" viewBox="0 0 64 64" style=" fill:#000000;">
              <path fill="#97e0bb" d="M31 3A28 28 0 1 0 31 59A28 28 0 1 0 31 3Z" transform="rotate(-87 30.997 30.997)"></path>
              <path fill="#72caaf" d="M31,53q-.59,0-1.18,0A22,22,0,0,1,31,9q.59,0,1.18,0A22,22,0,0,1,31,53Z"></path>
              <path fill="#faefde" d="M46.18,34.37a2,2,0,0,1-2.71.65c-6.79-4.18-17.15-5.38-25.17-2.94a2,2,0,1,1-1.14-3.77c9.18-2.79,20.59-1.44,28.38,3.36a2,2,0,0,1,.64,2.7m.27-7.16c-8.15-4.83-21.58-5.28-29.35-2.92a2.36,2.36,0,1,1-1.38-4.52c8.92-2.71,23.76-2.19,33.14,3.38a2.36,2.36,0,1,1-2.4,4.06"></path>
              <path fill="#8d6c9f" d="M31.93 44.27a1 1 0 0 0-1.18.78l-.4 2a1 1 0 0 0 .78 1.18l.12 0a1 1 0 0 0 1.06-.8l.4-2A1 1 0 0 0 31.93 44.27zM26.07 43.85a1 1 0 0 0-.94 1.06l.12 2a1 1 0 0 0 .91.94h.14a1 1 0 0 0 .94-1.06l-.12-2A1 1 0 0 0 26.07 43.85zM21.63 45.2a1 1 0 0 0-1.9.63l.63 1.9a1 1 0 1 0 1.9-.63zM37.48 46.19a1 1 0 0 0-1.34.45l-.89 1.79a1 1 0 0 0 1.79.9l.89-1.79A1 1 0 0 0 37.48 46.19zM39.37 11.73a20.9 20.9 0 0 1 2 1 1 1 0 0 0 1-1.74A22.81 22.81 0 0 0 40.17 9.9a1 1 0 1 0-.8 1.83zM25.32 10.74a1 1 0 0 0 .26 0 21.16 21.16 0 0 1 9.84-.24 1 1 0 0 0 .42-2 23.16 23.16 0 0 0-10.77.26 1 1 0 0 0 .26 2z"></path>
              <path fill="#8d6c9f" d="M32.52,2a29,29,0,1,0-3,57.92q.77,0,1.54,0a29,29,0,0,0,1.5-58ZM58,32.41A27,27,0,1,1,32.41,4,27,27,0,0,1,58,32.41Z"></path>
              <path fill="#8d6c9f" d="M49.35,23.29c-9.61-5.71-24.8-6.25-33.94-3.48a3.36,3.36,0,0,0,2,6.43c7.56-2.3,20.63-1.88,28.55,2.82a3.34,3.34,0,0,0,1.71.47,3.38,3.38,0,0,0,.85-.11,3.3,3.3,0,0,0,2-1.53A3.37,3.37,0,0,0,49.35,23.29Zm-.54,3.59a1.31,1.31,0,0,1-.81.61,1.35,1.35,0,0,1-1-.15h0c-5.21-3.09-12.5-4.44-19.19-4.44a38.91,38.91,0,0,0-11,1.42,1.36,1.36,0,1,1-.8-2.61c8.72-2.65,23.2-2.14,32.34,3.29A1.37,1.37,0,0,1,48.81,26.88Z"></path>
              <path fill="#8d6c9f" d="M46.06,31.82c-8-4.94-19.76-6.33-29.19-3.47a2.93,2.93,0,0,0-1.76,1.44,3,3,0,0,0-.23,2.26,3,3,0,0,0,3.7,2c7.79-2.37,17.8-1.2,24.37,2.84a3,3,0,0,0,1.54.43A3,3,0,0,0,47,35.9a2.94,2.94,0,0,0,.36-2.25A2.91,2.91,0,0,0,46.06,31.82Zm-.73,3a1,1,0,0,1-1.33.33A32.91,32.91,0,0,0,27.2,30.83,31.89,31.89,0,0,0,18,32.13a1,1,0,0,1-.73-.07,1,1,0,0,1-.47-.57,1,1,0,0,1,.65-1.21c8.92-2.71,20-1.4,27.58,3.26a.93.93,0,0,1,.42.58A1,1,0,0,1,45.33,34.85Z"></path>
              <path fill="#faefde" d="M38.87,42.81a33.1,33.1,0,0,0-18.06-1.92,2,2,0,0,1-2.29-1.47v0a1.92,1.92,0,0,1,1.57-2.31c6.69-1.15,14.29-.85,20.51,2.34a1.89,1.89,0,0,1,.85,2.49h0A2,2,0,0,1,38.87,42.81Z"></path>
              <path fill="#8d6c9f" d="M39.72,44a3,3,0,0,1-1.24-.26h0A28.26,28.26,0,0,0,21,41.88a2.87,2.87,0,0,1-3.41-2.23A2.93,2.93,0,0,1,18,37.37a3,3,0,0,1,2-1.29c8-1.63,15.21-.77,21.11,2.44a2.91,2.91,0,0,1,1.29,3.83A2.88,2.88,0,0,1,39.72,44Zm-.47-2.1a1,1,0,0,0,1.32-.42.9.9,0,0,0-.42-1.16c-5-2.92-12.12-3.85-19.92-2.25a1,1,0,0,0-.66.43.87.87,0,0,0-.12.67,1,1,0,0,0,1.18.75,29.84,29.84,0,0,1,18.61,2Z"></path>
            </svg>
          </div>
          <div class="hidden md:block">
            <div 
              data-controller="selected-link"
              data-selected-link-path-class="feed profile search follow_invitations followers followings"
              data-selected-link-selected-class="bg-gray-900 text-white"
              data-selected-link-unselected-class="text-gray-300 hover:bg-gray-700 hover:text-white"
              class="ml-10 flex items-baseline space-x-4"
            >
            
              <!-- Current: "bg-gray-900 text-white", Default: "text-gray-300 hover:bg-gray-700 hover:text-white" -->
              <%= link_to "Feed", feed_path, data: { 'selected-link-target': 'links', path: 'feed' }, class: "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
              <%= link_to "Profile", profile_path, data: { 'selected-link-target': 'links', path: 'profile' }, class: "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
              <%= link_to "Search", search_path, data: { 'selected-link-target': 'links', path: 'search' }, class: "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
              <%= link_to "Invitations", follow_invitations_path, data: { 'selected-link-target': 'links', path: 'follow_invitations' }, class: "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
              <%= link_to "Followers", followers_path, data: { 'selected-link-target': 'links', path: 'followers' }, class: "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
              <%= link_to "Followings", followings_path, data: { 'selected-link-target': 'links', path: 'followings' }, class: "text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
            </div>
          </div>
        </div>
        <div class="hidden md:block">
          <div class="ml-4 flex items-center md:ml-6">
            <!-- Notification dropdown -->
            <div class="ml-3 relative"
              data-controller="dropdown"
              data-dropdown-active-target="#dropdown-notification-button"
              data-dropdown-active-class="bg-teal-600"
              data-dropdown-invisible-class="opacity-0 scale-95"
              data-dropdown-visible-class="opacity-100 scale-100"
              data-dropdown-entering-class="ease-out duration-100"
              data-dropdown-enter-timeout="100"
              data-dropdown-leaving-class="ease-in duration-75"
              data-dropdown-leave-timeout="75">  
              <div>
                <%= button_to notifications_path, 
                    method: :get,
                    id: 'dropdown-notification-button',
                    data: {
                      'turbo-frame': 'notifications',
                      controller: 'clickable',
                      action: 'click->dropdown#toggle click@window->dropdown#hide click->clickable#hide', 
                      'dropdown-target': '#dropdown-notification-button', 
                      role: 'button',
                    }, 
                    tabindex: '0',
                    class: 'relative bg-gray-800 p-1 text-gray-400 rounded-full hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white',
                    type: 'button' do %>
                  <span class="sr-only">View notifications</span>
                  <!-- Heroicon name: outline/bell -->
                  <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                    <path stroke-resourceslinecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                  </svg>
                  <%= turbo_frame_tag 'notifications_alert' do %>
                    <span data-clickable-target="component" class="hidden absolute right-1 top-1/2 z-0 w-2 h-2 rounded-full bg-red-400 inline-block"></span>
                  <% end %>
                <% end %>
              </div>
              <div
                  data-dropdown-target="menu" 
                  class="hidden origin-top-right z-10 absolute overflow-y-auto right-0 mt-2 w-96 h-96 max-h-96 rounded-md shadow-lg py-1 bg-gray-50 ring-1 ring-black ring-opacity-5 focus:outline-none"
                >
                <%= turbo_frame_tag "notifications" %>
              </div>
            </div>
            
            <!-- Profile dropdown -->
            <div class="ml-3 relative"
              data-controller="dropdown"
              data-dropdown-active-target="#dropdown-profile-button"
              data-dropdown-active-class="bg-teal-600"
              data-dropdown-invisible-class="opacity-0 scale-95"
              data-dropdown-visible-class="opacity-100 scale-100"
              data-dropdown-entering-class="ease-out duration-100"
              data-dropdown-enter-timeout="100"
              data-dropdown-leaving-class="ease-in duration-75"
              data-dropdown-leave-timeout="75">  
              <div>
                <button 
                  id="dropdown-profile-button"
                  data-action="click->dropdown#toggle click@window->dropdown#hide" 
                  data-dropdown-target="button"
                  data-role="button"
                  tabindex="0"
                  type="button" 
                  class="max-w-xs bg-gray-800 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white" id="user-menu-button" aria-expanded="false" aria-haspopup="true">
                  <span class="sr-only">User menu</span>
                  <%= render(AvatarComponent.new(user: current_user, username: current_user.username, style: 'w-8 h-8 border border-gray-400')) %>
                </button>
              </div>
              <div
                data-dropdown-target="menu" 
                class="hidden origin-top-right z-10 absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"
              >
                <div 
                  class="bg-white rounded overflow-hidden"
                  role="menu" 
                  aria-orientation="vertical" 
                  aria-labelledby="user-menu-button" 
                  tabindex="-1"
                  >
                  <%= link_to "Settings", settings_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100", role: "menuitem", tabindex: "-1", id: "user-menu-item-1" %>
                  <%= button_to "Sign Out", destroy_user_session_path(current_user, format: :html), method: :delete, class: "block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100", role: "menuitem", tabindex: "-1", id: "user-menu-item-2" %>
                </div> 
              </div>
            </div>
          </div>
        </div>
        <div class="-mr-2 flex md:hidden">
          <!-- Mobile menu button -->
          <button type="button" class="bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white" aria-controls="mobile-menu" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <!--
              Heroicon name: outline/menu

              Menu open: "hidden", Menu closed: "block"
            -->
            <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <!--
              Heroicon name: outline/x

              Menu open: "block", Menu closed: "hidden"
            -->
            <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile menu, show/hide based on menu state. -->
  <div class="border-b border-gray-700 md:hidden" id="mobile-menu">
    <div class="px-2 py-3 space-y-1 sm:px-3">
      <!-- Current: "bg-gray-900 text-white", Default: "text-gray-300 hover:bg-gray-700 hover:text-white" -->
      <a href="#" class="bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium" aria-current="page">Dashboard</a>

      <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Team</a>

      <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Projects</a>

      <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Calendar</a>

      <a href="#" class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Reports</a>
    </div>
    <div class="pt-4 pb-3 border-t border-gray-700">
      <div class="flex items-center px-5">
        <div class="flex-shrink-0">
          <img class="h-10 w-10 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
        </div>
        <div class="ml-3">
          <div class="text-base font-medium leading-none text-white">Tom Cook</div>
          <div class="text-sm font-medium leading-none text-gray-400">tom@example.com</div>
        </div>
        <button type="button" class="ml-auto bg-gray-800 flex-shrink-0 p-1 text-gray-400 rounded-full hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
          <span class="sr-only">View notifications</span>
          <!-- Heroicon name: outline/bell -->
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
        </button>
      </div>
      <div class="mt-3 px-2 space-y-1">
        <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700">Your Profile</a>

        <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700">Settings</a>

        <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-gray-700">Sign out</a>
      </div>
    </div>
  </div>
</nav>